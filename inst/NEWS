3.6-10 Added error message for missing sampling indicator in two-phase
      design (Lucia Hindorff)

      Added tests/kalton.R with reweighting examples.

      make.calfun() for creating user-specified calibration distances. 
 
      NOTE: Calling grake() directly now requires a calfun object rather than 
      a string: see help(make.calfun).

3.6-9 Bootstrap weights used last stratum size rather than harmonic mean
      for n/(n-1) factor (Djalma Pessoa)

      method= argument to svycoxph() didn't work (Lisa McShane)

      svyquantile did not treat missing values as a domain
      (Nicole Glazer)

      fix for change in pmax/pmin (Brian Ripley)

      Add pchisqsum for distribution of quadratic forms.

3.6-8 A fix in 3.6-6 had broken svycoxph when only a single predictor
      variable was used (Lisa McShane)

3.6-7 svycoxph() is much faster for replicate weights

      degf.svyrep.design uses a cached value rather than
      recomputing.

3.6-6 svyquantile was not passing method= argument to approxfun() 
      (Jacques Ferrez)
 
      Documented that svyquantile(interval.type="score") may not be any
      more accurate

      Broken link due to typo in svyratio.Rd (Giuseppe Antonaci)

      postStratify could overestimate standard errors for post-strata cutting
      across existing sampling strata. (Ben French)

      svycoxph() would not run for subsets of calibrated designs.
      (Norman Breslow)

3.6-5 Add return.replicates option to svyratio() (for ine.pt)

      Add amount= option to svyplot

      Design effects for totals were wrong for PPS 
      sampling.  (Takahiro Tsuchiya)

3.6-4 rownames fix for svyratio with a single statistic.

3.6-3 raking by rake() now has slightly more accurate (smaller)
      standard errors. As a result, it can't be used on pre-2.9 
      svydesign objects.

      calibrate() does not warn about name mismatches when population 
      argument has no names.

      svyCprod, svyrecvar, grake now exported.

3.6-2 covmat=TRUE option for svyratio.

      svycontrast() fix for svyby() with empty groups (ine.pt)

3.6-1 Allow averaged bootstrap weights (as StatCanada sometimes produces) 
      in svrepdesign()

      Fix derivative to get faster convergence in logit calibration 
      (Diego Zardetto)

      svycontrast() can take named vectors of just the non-zero coefficients.

      Nonlinear combinations of statistics with svycontrast()

3.6   Allow empty factor levels in calibration (for Diego Zardetto). 

      Work around for strange S4 class/NAMESPACE issue with hexbin
      plots; actual fix requires more understanding.

      regTermTest handles MIresult objects.

      Add dimnames, colnames, rownames methods (for ine.pt)

      svysmooth for scatterplot smoothers and density estimation 
      (needs KernSmooth)

      Give a warning when fpc varies within strata. 

      svycontrast() for linear combinations of survey statistics

      covmat=TRUE option to svyby() for replicate-weight designs, so
      the output can be used in svycontrast().

3.5   Add estWeights for Robins et al way of using auxiliary
      information (ie AIPW).

      Remove JSS article and survey-vanderbilt.pdf from inst/
      since they are now seriously out of date.

      paley() now gives matrices of order 2^k(p+1), which are
      usually of minimal or near-minimal size.

      Drop 72x72 and 256x256 Hadamard matrices, which are easy
      to recreate, from precomputed set and replace 36x36 with the
      one from Plackett & Burman, which has full orthogonal balance

      Note that changes to svyby now require R 2.2.0 or later.

      predict.svyglm has option to return just variances (rather
      than entire variance-covariance matrix)

      drop.empty.groups now works when the grouping variables 
      are not factors.

      Add a namespace

      Move precomputed Hadamard matrices from inst/hadamard.rda to
      R/sysdata.rda

3.4-5 Add svyboxplot (for Luke Peterson)

      Add drop.empty.groups option to svyby

3.4-4 Paley construction of Hadamard matrices now knows primes 
      up to 7919, works for larger sizes if the user supplies
      a suitable prime.

      calibrate() now reorders elements of 'population' to match
      column names of model matrix if necessary.

      predict() method for svyglm (for Phil Smith, Andrew Robinson)

      svyratio() for two-phase designs.

      Added vignette on domain estimation.

      svyby() can report multiple vartypes.

3.4-3 make svyratio work with svyby (for Phil Smith)

      increase default number of iterations in calibrate()

3.4-2 Options for residual df for summary.svyglm, default based on degf
      Default denominator df for svyglm, svycoxph in regTermTest.

      survey.lonely.psu now applies to as.svrepdesign.

      keep up with changes in all.equal() for R 2.3.0

3.4-1 Speed optimizations for JKn weights with self-representing strata
	- jackknife replicates are not created for these strata
	- svytotal does not use these strata in variance calculation.
	- svytotal, svymean, svyratio,svyquantile,svyglm recognize 
            designs (eg subsets) where all strata are self-representing.

      [.repweights_compressed does less copying and is a lot faster 
      for large designs

      Added verbose= option to svyby() to monitor slow computations.

      Added vartype="cv","cvpct" options for svyby().

      Two-phase designs gave incorrect variances in some cases [they
      were correct if the first stage was infinite superpopulation
      sampling or if all phase 1 ultimate sampling units were
      represented in phase 2].  These are fixed but twophase() now
      limits the first phase to single-stage cluster or element
      sampling. [detailed bug report from Takahiro Tsuchiya]

      added vignette describing estimator of phase-one variance in
      two-phase designs

      minor speedup in svyrecvar() for self-representing strata

      added make.formula() for convenience with many variables.


3.4   twophase() for specifying two-phase designs.

      two vignettes: a simple example and a description of two-phase epi designs

      svyratio handles missing data.

      cv() gives NaN rather than an error when the statistic is zero (for 
      ana.pmartins@ine.pt)

      oldsvydesign() is officially deprecated

      Jackknife variances for strata with a single population PSU were wrong
      (non-zero) (ana.pmartins@ine.pt)

      svyglm refused to work on subsets of calibrated designs

3.3-2 Add cv, SE, coef, and deff methods for svyby (for Ana Quiterio)

      as.data.frame methods for svystat, svrepstat

      regTermTest can do F-tests now (Daryl Morris).

      fix documentation of value for as.svrepdesign (Alan Zaslavsky)

3.3-1 Make nest=TRUE in multistage designs work when only some initial 
      sampling stages are stratified
      
      Multistage recursive variances were only going to two stages.

      Add "(with replacement)" to output of print.survey.design2 when
      no fpc is specified.

3.3   Added more generalized raking estimators: raking ratio, bounded raking 
      ratio, logit, (for Ana Quiterio)

      svytable() could sometimes leave the class attribute off the result.
      summary() now gives tests of association for svytable().

      svychisq() works for replicate designs

      degf() gives approximate degrees of freedom for replicate designs.

      Clearer error messages when design information is missing.

3.2-1 Fix ordering bug in ftable.svyby (Stefano Calza)

      The "probability" option added to svyquantile for replicate designs
      in 3.1 computed standard errors for the wrong tail. (Gillian Raab).

3.2   Add option to calibrate() to make weights constant within clusters.

      Add bounded regression calibration to calibrate()

3.1-1 Rescale svyvar output by n/(n-1) to match Kish, which makes a small
      difference to design effect computations. (for Takahiro Tsuchiya)   

      Test for presence of intercept in calibrate() was too fussy.

3.1   Quantiles for replicate-weight designs now by default compute confidence
      intervals on the probability scale and transform, so they are valid for
      jackknife designs. (as Gillian Raab suggested long ago)

      Analyses on replicate weights should use eg svymean, which has
      methods for replicate weight designs; the old (eg svrepmean) variants
      are now deprecated.

      calibrate() can now use regression models with variance proportional 
      to linear combination of predictors (and so can duplicate ratio 
      estimators of means and totals)

      Prettier labelling of objects created by postStratify(), calibrate(), 
      update(), subset()

      svytotal on replicate weight designs was computing means, not totals
      (probably since 3.0). 

3.0-1 Allow some strata to have an infinite population (zero sampling fraction)
      (this doesn't happen in reality but is the recommended analysis for
      handling certainty PSUs in some large NCHS studies). 

      Let svyby() handle vectors that are not in the design object (even 
      though they are discouraged)

      calibrate() was working only under stratified/simple random sampling.

      Allow user-supplied Hadamard matrix for brrweights.

      as.svrepdesign gave a spurious warning when converting post-2.9-1
      objects without finite population corrections to BRR.

      Allow multicolumn response variable in svymle() (for survival data)

      Add nlm() as the default optimization method for svymle().

3.0   Added simple GREG (G-calibration) estimators with calibrate() 

      Added deff="replace" option to compute design effects comparing to
      simple random sampling with replacement, eg for designs where the weights
      do not sum to the population size. (for Gillian Raab)

      Added more references for median estimation.

      Added separate ratio estimator of totals for stratified
      samples. (for Renzo Vettori)

      cv.svyratio was inverted.

      rake() on survey design objects was accumulating cruft in the
      postStrata component on each iteration.

      Subsetting of raked designs without replicate weights was 
      broken (Steve Roberts)

      Standard errors were wrong for some domain estimates in 
      post-stratified models without replicate weights.
      
      More extensive tests comparing domain estimates to equivalent 
      ratio and regression formulations.

      Changed default in svyby to keep.var=TRUE

      Prettier stratum labels.

      New homepage at  http://faculty.washington.edu/tlumley/survey/

      svyplot(type="hex") works with both pre1.0 and post1.0 versions 
      of the hexbin package.

      Fixed svychisq denominator degrees of freedom for stratified designs 
      for bug introduced by multistage revision. (Takahiro Tsuchiya)
      

2.9-1 Fixed typo in description of fpc in svydesign.Rd
  
      Added inst/twostage.pdf with examples of two-stage analyses.

      Handling of fpc specified as proportion in the absence of weights 
      was wrong.

2.9   Added full multistage sampling, involving a redesign of the survey.design
      object.  The old objects are deprecated; they may be converted with 
      as.svydesign2.   Use options(survey.ultimate.cluster=TRUE) to get 
      the same one-stage standard errors as earlier versions and
      options(survey.want.obsolete=TRUE) to turn off the annoying warnings 
      about old-style survey objects.  If you must create old-style survey
      objects use oldsvydesign().

      As a consequence of the redesign, most of the svyxxx functions
      are now generic, with methods for both svydesign and svrepdesign
      objects. Use svymean instead of svrepmean, for example.

      Added more Hadamard matrices, including the Paley construction. 
      brrweights() now finds designs of nearly optimal size for most surveys.

      Faster svymean, svytotal for replicates, with less memory use.

      Added "bootstrap" option for as.svrepdesign

      svyby and ftable.svyby now handle Deff (expanded from a suggestion
      by Tobias Verbeke)

      svyhist() for probability-weighted histograms

      added svycoxph() for replicate weight designs

      The "lonely.psu" corrections will be applied to strata with a single
      PSU in a subset (domain) if options("survey.adjust.domain.lonely") 
      is TRUE.  The default is FALSE.

      subset.survey.design was not working for post-stratified designs.

      Added a PDF file with examples from UCLA ATS web site, including 
      comparisons with WesVar and SUDAAN. (inst/ucla-examples.pdf)

      Added slides from a talk at Vanderbilt University. 
      (inst/survey-vanderbilt.pdf)

      Fixed Deff to use simple random sampling without replacement. 
      
      Much faster confidence intervals for quantiles based on inverting a
      Wald test are now default. These are less accurate in small
      samples; the old method is still available.
      (based on suggestion from Gillian Raab)


2.8-4 Added a whole lot more references to the documentation.
      
      data(hospital) now has two sets of weights, one matching the
      UCLA ATS site and one matching the original reference.
      (from Tobias Verbeke)

      summary.svyrep.design was reporting 1 replicates for compressed 
      weights (but still computing correctly)

2.8-3 postStratify for svydesign objects was giving too large standard errors
 
      Add deff() to extract design effects.

2.8-2 rewrite cv() to use coef() and SE()

2.8-1 Make Deff estimates work with ftable. (for Gillian Raab)

      ftable.svyby didn't work with a single by() variable (for Gillian Raab)

      Missing values now allowed in svychisq(). (for Lee Sieswerda)

2.8   fix printing of svyby broken in 2.7

      add ftable.svyby

      postStratify for svydesign surveys.

2.7-1 as.svrepdesign was giving the wrong weights for type="Fay" in 2.7

2.7   Option compress=TRUE in as.svrepdesign to reduce size 
      of replicate weight matrix (and in rake(), postStratify()). Also
      function compressWeights() to do this to arbitrary replicate designs.

      terms() reorders variables in interactions, which confused regTermTest
      (Daniel Almirall)

      Added extractor function SE() for standard errors (Andrew Robinson)

      hadamard() now finds smaller Hadamard matrices.

      svyCprod warns if a subset has only one PSU in some stratum 
      (Gillian Raab)
      
      Added tests/lonely.psu.R

      Added another option "average" for lonely.psu (Gillian Raab)

      svydesign can now detect from sampling weights or fpc when a stratum
      with a single PSU is self-representing, and in these cases 
      options("survey.lonely.psu") is not used.

      ftable.svystat and ftable.svrepstat to produce better tables of
      percentages and totals.

      Experimental set of functions to help in computing non-response weights 
      (see ?nonresponse for details)

2.6-2 Better handling of NAs in svyby
 
      Subsetting didn't work right for single-observation subsets.

      svyglm and svycoxph had scoping problems when run inside a 
      function (Daniel Almirall)
 
      svyglm and svycoxph now accept weights (to be multiplied by 
      the sampling weights)

      With R 2.0.0 less copying will occur, especially when variables=
      is not specified in a design

2.6-1 Totals for factors give cell totals.

2.6   Design effects were broken for multiple means computed at once.
      
      Add coefficient of variation for mean, total, ratio,...

      variables= argument of svydesign works with missing data (Tobias Verbeke)

      Fix reference to Binder (1991) (Tobias Verbeke)

      Means for factors now give cell means.

      coef and vcov methods for svystat and svrepstat.

      Another tiny example dataset from the VPLX manual
      
      svrepvar was incorrect for multiple variables simultaneously

      Better error messages for missing data in svrVar.

2.5   Wald tests for association in contingency tables.

      svyplot() for weighted graphics (some of these require "hexbin")

      Examples for rake(), postStratify()

      svyby() works for svrepdesign analyses as well
      added subset.svyrep.design()

      svrepvar() added

      Design effects for means and totals. (Gillian Raab)

2.4   Make regTermTest work with svycoxph()

      Clearer output for print.svycoxph() (Daniella Gollinelli)

      Rao-Scott adjusted tests for contingency tables.

      svyby() for tables of means, medians, etc

2.3-2 Fix for svyquantile confidence intervals.

2.3-1 clearer warnings in svrVar when some replicates give NA . 
      (for Gillian Raab)

2.3   svyquantile has confidence intervals, added svrepquantile.

2.2-1 as.svrepdesign didn't pass options to brrweights (for Fred Rohde)

2.2   published in Journal of Statistical Software  
      - If population size is specified, but not weights or probabilities, 
      work out the probabilities from the population size
      - Clearer error message when some design information is NA 
        (for Tobias Verbeke)
      - better update() methods

2.0  Just a numbering change.

1.9-3  Fix svytotal variance estimate
       as.svrepdesign wasn't handling unstratified cluster samples right.
       Check for fpc in multistage samples, which we don't handle.
       add print method for basic survey statistics
       add rake()
       California API data.

1.9-2	Added post-stratification of replicate-weights

1.9-1   Bugfix: jknweights was requiring finite population correction.

1.9 	- "certainty" option for single-PSU strata
        - Replication weight analyses (alpha version)

1.4	- I think all the possible permutations of arguments 
	in svydesign now work.
	- The examples in svyglm incorrectly had a data= argument.	

1.3	svydesign wasn't allowing weights to be a vector.

1.2  	- svydesign(nest=TRUE) now uses less memory
	- added regTermTest for testing regression terms.	

1.1   	Added subset, update methods.  Variance estimation is now correct for
 	subpopulations produced with select or subscripting.

1.0	No changes
	
0.9-5   - finite population correction should be done with PSUs not 
	  individuals
	- added Cox models

0.9-4	- svyCprod was computing n/(n-1) using number of observations, 
          not number of PSUs, and was averaging observations rather than 
 	  PSU means to compute stratum means. 
	- Bug in handling multiple levels of cluster id in svydesign

0.9-3:   Finite population correction.
 	 Adjustments for stratum with single PSU (Fred Rohde)
	 Fixed svydesign(nest=TRUE) to work with strata

0.9-1:	First release.

